<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta charset="UTF-8">
    <title>Welcome</title>
</head>
<body>
<center>
    <h1>欢迎光临武林秘籍管理系统</h1>

    <div sec:authorize="!isAuthenticated()">
        <h2>游客你好，如果想看武林秘籍<a href="" th:href="@{/userlogin}" style="text-decoration: none">请登录</a></h2>
    </div>
    <div sec:authorize="isAuthenticated()">
        <h2><span sec:authentication="name"></span>,你好，你的角色有
            <span sec:authentication="principal.authorities"></span>
        </h2>
    </div>
</center>
<form action="/logout" th:action="@{/logout}" method="post">
    <!--解决SpringBoot由于CSFR保护而对空post请求的拦截问题-->
    <!--<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>-->
    <button type="submit">注销</button>
</form>
<hr/>
<div sec:authorize="hasRole('VIP1')">
<h3>普通武林秘籍(限VIP1)</h3>
<ul>
    <li><a href="" th:href="@{/level1/1}" style="text-decoration: none">罗汉拳</a></li>
    <li><a href="" th:href="@{/level1/2}" style="text-decoration: none">全真剑法</a></li>
    <li><a href="" th:href="@{/level1/3}" style="text-decoration: none">武当长拳</a></li>
</ul>
</div>
<div sec:authorize="hasRole('VIP2')">
<h3>高级武林秘籍(限VIP2)</h3>
<ul>
    <li><a href="" th:href="@{/level2/4}" style="text-decoration: none">太极拳</a></li>
    <li><a href="" th:href="@{/level2/5}"  style="text-decoration: none">七伤拳</a></li>
    <li><a href="" th:href="@{/level2/6}" style="text-decoration: none">梯云纵</a></li>
</ul>
</div>
<div sec:authorize="hasRole('VIP3')">
<h3>绝世武林秘籍(限VIP3)</h3>
<ul>
    <li><a href="" th:href="@{/level3/7}" style="text-decoration: none">葵花宝典</a></li>
    <li><a href="" th:href="@{/level3/8}" style="text-decoration: none">龟派气功</a></li>
    <li><a href="" th:href="@{/level3/9}" style="text-decoration: none">孤独九剑</a></li>
</ul>
</div>
</body>
</html>